<script>

const urlParams = new URLSearchParams(window.location.search);
const awb = urlParams.get('awb');

fetch("https://raw.githubusercontent.com/veera1016/sky/main/data.json")
.then(res=>res.json())
.then(data=>{

const ship = data.shipments.find(s=>s.awb==awb);

if(!ship){
  document.getElementById("errorBox").style.display="block";
  return;
}

document.getElementById("awbNo").innerText = ship.awb;
document.getElementById("bookingDate").innerText = ship.date;
document.getElementById("consignee").innerText = ship.consignee;
document.getElementById("destination").innerText = ship.destination;
document.getElementById("status").innerText = ship.status;
document.getElementById("deliveryDate").innerText = ship.deliveryDate;
document.getElementById("receiver").innerText = ship.receiver;
document.getElementById("deliveryAwb").innerText = ship.deliveryAwb;

let table = document.getElementById("progressTable");

ship.progress.forEach(p=>{
let row = table.insertRow(-1);
row.insertCell(0).innerText = p.date;
row.insertCell(1).innerText = p.time;
row.insertCell(2).innerText = p.location;
row.insertCell(3).innerText = p.activity;
});

});
</script>
